!function(a){var b=function(a,b,c,d){var e=this;return e.baseURL=a||"",e.timeout=d||1e3,e.defaultHeaders=b||{},e.defaultData=c||{},e},c=function(){};b.prototype.ajax=function(a,b,d,e,f){var g,h=new XMLHttpRequest;d=this.encode(this.combineObjs(this.defaultData,d)),e=this.combineObjs(this.defaultHeaders,e),b=this.baseURL+b,f=f||c,"GET"===a&&d&&(b+="?"+d),h.open(a,b),h.setRequestHeader("content-type","application/x-www-form-urlencoded");for(var i in e)e.hasOwnProperty(i)&&h.setRequestHeader(i,e[i]);this.timeout&&(g=setTimeout(function(){h.abort(),f(new Error("Timeout"))},this.timeout)),h.onreadystatechange=function(){this.timeout&&clearTimeout(g),4===h.readyState&&(h.status?(h.status<200||h.status>=300)&&304!==h.status?f(new Error("HTTP Status Code "+h.status)):f(null,h.responseText):f(new Error("No Status")))},"GET"!==a&&d&&h.send(d)},b.prototype.combineObjs=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"undefined"==typeof b[c]&&(b[c]=a[c]);return b},b.prototype.encode=function(a){var b="";if("string"==typeof a)return a;for(var c in a)a.hasOwnProperty(c)&&(b+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return 0===b.length?"":b.substr(1)},"function"==typeof define&&define.amd?define(function(){return b}):a.Abrest=b}(this);