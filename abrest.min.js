!function(a){var b=function(a,b,c,d){var e=this;return e.baseURL=a||"",e.timeout=d||1e3,e.defaultHeaders=b||{},e.defaultData=c||{},e},c=function(){};b.prototype.ajax=function(a,b,d,e,f){var g,h,i=new XMLHttpRequest;b=this.baseURL+b,d=d||{},g=this.encode(d),f=f||c,"GET"===a&&g&&(b+="?"+g),i.open(a,b),i.setRequestHeader("content-type","application/x-www-form-urlencoded");for(var j in this.defaultHeaders)this.defaultHeaders.hasOwnProperty(j)&&i.setRequestHeader(j,this.defaultHeaders[j]);for(var k in e)e.hasOwnProperty(k)&&i.setRequestHeader(k,e[k]);this.timeout&&(h=setTimeout(function(){i.abort(),f(new Error("Timeout"))},this.timeout)),i.onreadystatechange=function(){this.timeout&&clearTimeout(h),4===i.readyState&&(i.status?(i.status<200||i.status>=300)&&304!==i.status?f(new Error("HTTP Status Code "+i.status)):f(null,i.responseText):f(new Error("No Status")))},"GET"!==a&&g&&i.send(g)},b.prototype.encode=function(a){var b="";if("string"==typeof a)return a;for(var c in a)a.hasOwnProperty(c)&&(b+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},"function"==typeof define&&define.amd?define(function(){return b}):a.Abrest=b}(this);