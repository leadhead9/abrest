!function(a){var b=function(){var a=this;return a},c=function(a){var b="";if("string"==typeof a)return a;for(var c in a)a.hasOwnProperty(c)&&(b+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},d=function(){};b.prototype.timeout=1e3,b.prototype.baseURL="",b.prototype.ajax=function(a,b,e,f){var g,h=new XMLHttpRequest,i=c(e),j=!1;b=this.baseURL+b,e=e||{},f=f||d,"GET"===a&&i&&(b+="?"+i),h.open(a,b);for(var k in headers)headers.hasOwnProperty(k)&&(h.setRequestHeader(k,headers[k]),"content-type"===k.toLowerCase()&&(j=!0));j||h.setRequestHeader("content-type","application/x-www-form-urlencoded"),this.timeout&&(g=setTimeout(function(){h.abort(),f(new Error("Timeout"))},this.timeout)),h.onreadystatechange=function(){this.timeout&&clearTimeout(g),4===h.readyState&&(h.status?(h.status<200||h.status>=300)&&304!==h.status?f(new Error("HTTP Status Code "+h.status)):f(null,h.responseText):f(new Error("No Status")))},"GET"!==a&&i&&h.send(i)},"function"==typeof define&&define.amd?define(function(){return b}):a.abrest=b}(this);