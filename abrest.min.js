!function(a,b){var c=function(a,b,c,d){return this.baseURL=a||"",this.timeout=d||1e3,this.defaultHeaders=b||{},this.defaultData=c||{},this},d=function(){},e=["get","post","put","delete"];c.prototype.ajax=function(a,b,c,d,e){var f,g=new XMLHttpRequest,h=this.timeout,i=this.combineObjs;c=this.encode(i(this.defaultData,c)),d=i(this.defaultHeaders,d),b=this.baseURL+b,"get"===a&&c&&(b+="?"+c),g.open(a,b),g.setRequestHeader("content-type","application/x-www-form-urlencoded");for(var j in d)d.hasOwnProperty(j)&&g.setRequestHeader(j,d[j]);h&&(f=setTimeout(function(){g.abort(),e(new Error("Timeout"))},h)),g.onreadystatechange=function(){h&&clearTimeout(f),4===g.readyState&&(g.status?(g.status<200||g.status>=300)&&304!==g.status?e(new Error(g.status)):e(null,g.responseText):e(new Error("No Status")))},"get"!==a&&c&&g.send(c)},c.prototype.combineObjs=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"undefined"==typeof b[h=c]&&(b[c]=a[c]);return b},c.prototype.encode=function(a){var c="";if("string"==typeof a)return a;for(var d in a)a.hasOwnProperty(d)&&(c+="&"+b(d)+"="+b(a[d]));return 0===c.length?"":c.substr(1)};for(var f=0;f<e.length;f+=1)!function(a){c.prototype[a]=function(b,c,e,f){"function"==typeof c?(f=c,c={},e={}):"function"==typeof e?(f=e,e={}):"undefined"==typeof c?(c={},e={},f=d):"undefined"==typeof e&&(e={},f=d),this.ajax.call(this,a,b,c,e,f)}}(e[f]);"function"==typeof define&&define.amd?define(function(){return c}):a.Abrest=c}(this,encodeURIComponent);