!function(a,b){var c=function(a,b,c,d){var e=this;return e.baseURL=a||"",e.timeout=d||1e3,e.defaultHeaders=b||{},e.defaultData=c||{},e},d=function(){};c.prototype.ajax=function(a,b,c,e,f){var g,h=new XMLHttpRequest,i=this.timeout;c=this.encode(this.combineObjs(this.defaultData,c)),e=this.combineObjs(this.defaultHeaders,e),b=this.baseURL+b,f=f||d,"GET"===a&&c&&(b+="?"+c),h.open(a,b),h.setRequestHeader("content-type","application/x-www-form-urlencoded");for(var j in e)e.hasOwnProperty(j)&&h.setRequestHeader(j,e[j]);i&&(g=setTimeout(function(){h.abort(),f(new Error("Timeout"))},i)),h.onreadystatechange=function(){i&&clearTimeout(g),4===h.readyState&&(h.status?(h.status<200||h.status>=300)&&304!==h.status?f(new Error("HTTP Status Code "+h.status)):f(null,h.responseText):f(new Error("No Status")))},"GET"!==a&&c&&h.send(c)},c.prototype.combineObjs=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"undefined"==typeof b[c]&&(b[c]=a[c]);return b},c.prototype.encode=function(a){var c="";if("string"==typeof a)return a;for(var d in a)a.hasOwnProperty(d)&&(c+="&"+b(d)+"="+b(a[d]));return 0===c.length?"":c.substr(1)},"function"==typeof define&&define.amd?define(function(){return c}):a.Abrest=c}(this,encodeURIComponent);